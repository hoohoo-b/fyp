<!--

Switch between CSV data for HTML table

-->

<!DOCTYPE HTML>
<meta charset="utf-8">
<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>

<body>
<script>
    var tbl = d3.select("body")
            .append("table");

    tbl.append("thead");
    tbl.append("tbody");

    d3.text("uncertain_graph_5000.csv", function(error, data) {
        if (error) throw error;

        var parsedRows = d3.csvParseRows(data);

        tbl.select("tbody").selectAll("tr")
                .data(parsedRows)
                .enter().append("tr")

                .selectAll("td")
                .data(function(d) { return d; })
                .enter().append("td")
                .text(function(d) { return d; });
    });

    var btn = d3.select("body").append("button")
            .text("Update")
            .on("click", function() {
                d3.text("uncertain_graph_17200.csv", function(error, data) {
                    if (error) throw error;

                    var parsedRows = d3.csvParseRows(data);

                    var t = tbl.select("tbody").selectAll("tr")
                            .data(parsedRows);

                    t.selectAll("td")
                            .data(function(d) { return d; })
                            .text(function(d) { return d; });


                    t.enter().append("tr")
                            .selectAll("td")
                            .data(function(d) { return d; })
                            .enter().append("td")
                            .text(function(d) { return d; });

                    t.selectAll("td").data(function(d) { return d; })
                            .exit().remove();

                    t.exit().remove();
                });

            });

</script>
</body>